<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="../style.css" />
  <title>Shopee URL Shortener</title>
  <script>
    function shortenShopeeUrl() {
      const inputUrl = document.getElementById("url").value;
      const pattern = /i\.(\d+)\.(\d+)/;
      const match = inputUrl.match(pattern);

      if (match) {
        const productId = match[1];
        const shopId = match[2];
        const shortenedUrl = `https://shopee.ph/product/${productId}/${shopId}`;
        document.getElementById("output").value = shortenedUrl;
        document.getElementById("error").textContent = "";
      } else {
        document.getElementById("output").value = "";
        document.getElementById("error").textContent =
          "Invalid Shopee link. Please provide a valid Shopee URL.";
      }
    }
  </script>
</head>

<body>
  <h1>Shopee URL Shortener</h1>
  <p>I created this simple Shopee URL shortener for desktop users because I found it frustrating to share links while doomscrolling and window shopping on my PC. The desktop links are excessively long and clutter up chat windows, unlike the compact links generated by Shopeeâ€™s internal shortener on the mobile app
  </p>
  <hr>
  <div class="form">
    <label for="url">Enter Shopee URL</label>
    <input type="url" id="url" placeholder="https://shopee.ph/..." required />
    <button class="shopee" onclick="shortenShopeeUrl()">Shorten URL</button>
  </div>
  <p id="error" style="color: red;"></p>
  <div class="output">
    <label for="output">Shortened URL</label>
    <input type="text" id="output" readonly />
    <button class="shopee" onclick="navigator.clipboard.writeText(document.getElementById('output').value)">
      Copy
    </button>
  </div>
  <footer>
    <hr />
    <p>Created by Ian Larawan</p>
  </footer>
</body>

</html>
